{"id":"aZDu","dependencies":[{"name":"/Users/evinsellin/code/homepage/tsconfig.json","includedInParent":true,"mtime":1618121163129},{"name":"/Users/evinsellin/code/homepage/.babelrc","includedInParent":true,"mtime":1618113312087},{"name":"/Users/evinsellin/code/homepage/package.json","includedInParent":true,"mtime":1618121380722},{"name":"./constants","loc":{"line":1,"column":20},"parent":"/Users/evinsellin/code/homepage/src/vm/os/file.ts","resolved":"/Users/evinsellin/code/homepage/src/vm/os/constants.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=exports.DeviceFile=exports.TextFile=void 0;var t=require(\"./constants\"),e=function(){function e(t){var e=t.owner,i=t.permissions,r=t.data,s=t.suid;this.owner=e,this.permissions=i,this.data=r,this.suid=s}return e.prototype.read=function(e){e(t.Err.NONE,this.data,!0)},e.prototype.write=function(e,i){this.data=e,i(t.Err.NONE)},e}();exports.TextFile=e;var i=function(){function e(t){this.device=t,this.owner=0,this.permissions=\"644\",this.suid=!1}return e.prototype.read=function(e){this.device.read(function(i,r){return e(t.Err.NONE,i,r)})},e.prototype.write=function(t,e){this.device.write(t,e)},e}();exports.DeviceFile=i;var r=e;exports.default=r;"},"sourceMaps":{"js":{"mappings":[{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":0}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":13}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":20}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":35}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":43}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":56}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":57}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":64}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":68}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":76}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":84}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":92}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":103}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":111}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":125}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":127}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":131}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":133}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":141}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":156}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":158}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":169}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":178}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":18,"column":14},"generated":{"line":1,"column":180}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":20,"column":6},"generated":{"line":1,"column":183}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":20,"column":6},"generated":{"line":1,"column":187}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":189}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":1,"column":191}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":21,"column":6},"generated":{"line":1,"column":197}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":199}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":1,"column":201}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":22,"column":6},"generated":{"line":1,"column":213}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":215}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":1,"column":217}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":23,"column":6},"generated":{"line":1,"column":222}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":224}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":1,"column":226}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":26,"column":9},"generated":{"line":1,"column":231}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":26,"column":9},"generated":{"line":1,"column":236}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":26,"column":17},"generated":{"line":1,"column":242}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":1,"column":244}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":27,"column":9},"generated":{"line":1,"column":249}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":27,"column":23},"generated":{"line":1,"column":261}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":28,"column":9},"generated":{"line":1,"column":263}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":28,"column":9},"generated":{"line":1,"column":268}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":28,"column":16},"generated":{"line":1,"column":273}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":1,"column":275}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":1,"column":280}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":29,"column":16},"generated":{"line":1,"column":285}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":287}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":1,"column":294}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":1,"column":296}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":1,"column":306}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":1,"column":311}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":32,"column":7},"generated":{"line":1,"column":320}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":1,"column":323}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":33,"column":7},"generated":{"line":1,"column":325}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":33,"column":11},"generated":{"line":1,"column":327}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":33,"column":11},"generated":{"line":1,"column":331}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":33,"column":17},"generated":{"line":1,"column":336}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":341}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":33,"column":28},"generated":{"line":1,"column":347}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":351}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":353}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":363}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":369}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":1,"column":378}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":36,"column":14},"generated":{"line":1,"column":380}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":37,"column":9},"generated":{"line":1,"column":383}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":37,"column":9},"generated":{"line":1,"column":388}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":37,"column":16},"generated":{"line":1,"column":393}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":395}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":397}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":38,"column":11},"generated":{"line":1,"column":399}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":38,"column":11},"generated":{"line":1,"column":403}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":40,"column":0},"generated":{"line":1,"column":410}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":412}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":415}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":423}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":432}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":42,"column":0},"generated":{"line":1,"column":434}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":42,"column":0},"generated":{"line":1,"column":438}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":42,"column":0},"generated":{"line":1,"column":440}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":48,"column":2},"generated":{"line":1,"column":451}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":48,"column":2},"generated":{"line":1,"column":460}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":48,"column":14},"generated":{"line":1,"column":462}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":49,"column":9},"generated":{"line":1,"column":465}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":49,"column":9},"generated":{"line":1,"column":470}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":49,"column":18},"generated":{"line":1,"column":477}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":50,"column":9},"generated":{"line":1,"column":479}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":50,"column":9},"generated":{"line":1,"column":484}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":50,"column":17},"generated":{"line":1,"column":490}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":51,"column":9},"generated":{"line":1,"column":492}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":51,"column":9},"generated":{"line":1,"column":497}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":51,"column":23},"generated":{"line":1,"column":509}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":515}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":1,"column":520}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":52,"column":16},"generated":{"line":1,"column":526}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":528}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":55,"column":2},"generated":{"line":1,"column":535}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":55,"column":2},"generated":{"line":1,"column":537}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":55,"column":2},"generated":{"line":1,"column":547}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":55,"column":2},"generated":{"line":1,"column":552}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":55,"column":7},"generated":{"line":1,"column":561}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":564}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":56,"column":9},"generated":{"line":1,"column":569}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":56,"column":16},"generated":{"line":1,"column":576}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":56,"column":21},"generated":{"line":1,"column":581}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":56,"column":22},"generated":{"line":1,"column":590}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":56,"column":28},"generated":{"line":1,"column":592}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":56,"column":36},"generated":{"line":1,"column":595}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":56,"column":36},"generated":{"line":1,"column":602}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":56,"column":39},"generated":{"line":1,"column":604}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":56,"column":43},"generated":{"line":1,"column":606}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":56,"column":43},"generated":{"line":1,"column":610}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":56,"column":49},"generated":{"line":1,"column":615}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":56,"column":55},"generated":{"line":1,"column":617}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":59,"column":2},"generated":{"line":1,"column":623}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":59,"column":2},"generated":{"line":1,"column":625}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":59,"column":2},"generated":{"line":1,"column":635}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":59,"column":2},"generated":{"line":1,"column":641}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":1,"column":650}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":59,"column":14},"generated":{"line":1,"column":652}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":60,"column":9},"generated":{"line":1,"column":655}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":60,"column":9},"generated":{"line":1,"column":660}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":60,"column":16},"generated":{"line":1,"column":667}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":60,"column":22},"generated":{"line":1,"column":673}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":60,"column":28},"generated":{"line":1,"column":675}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":679}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":42,"column":0},"generated":{"line":1,"column":681}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":684}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":692}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":703}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":705}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":709}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":711}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":713}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":721}},{"source":"src/vm/os/file.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":729}}],"sources":{"src/vm/os/file.ts":"import { Device, FolderFile, ReadWritable } from './constants';\nimport { Err } from './constants';\n\n/* \n  interface file extends permissable \n  read: ((data, eof) => ()) => ()\n  write: (data, bool => ()) => ()\n\n  interface folder extends permissable\n*/\n\nexport class TextFile implements FolderFile, ReadWritable {\n  owner : number;\n  permissions : string;\n  suid : boolean;\n  data : string;\n\n  constructor(init){\n    const {\n      owner,\n      permissions,\n      data,\n      suid,\n    } = init;\n\n    this.owner = owner;\n    this.permissions = permissions;\n    this.data = data;\n    this.suid = suid;\n  }\n\n  read(cb) {\n    cb(Err.NONE, this.data, true);\n  }\n\n  write(data, cb) {\n    this.data = data;\n    cb(Err.NONE);\n  }\n}\n\nexport class DeviceFile implements FolderFile, ReadWritable {\n  device : Device;\n  owner : number;\n  permissions : string; // perms-style string again.\n  suid : boolean;\n\n  constructor(device){\n    this.device = device;\n    this.owner = 0;\n    this.permissions = \"644\";\n    this.suid = false;\n  }\n\n  read(cb) {\n    this.device.read((data, eof) => cb(Err.NONE, data, eof));\n  }\n\n  write(data, cb) {\n    this.device.write(data, cb);\n  }\n}\n\nexport default TextFile;\n"},"lineCount":null}},"error":null,"hash":"6728d56e1f7fe3a2edbf31c1b93818dc","cacheData":{"env":{}}}